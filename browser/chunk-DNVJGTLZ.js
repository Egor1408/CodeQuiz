import{a as R,b as Y,c as $,d as U,h as J}from"./chunk-DJG6GZ6H.js";import{a as K}from"./chunk-HV4TFLYS.js";import{d as H,g as G}from"./chunk-NF6AS6WO.js";import{$ as D,$a as i,Aa as w,Fa as z,Ka as h,Kb as _,Ua as L,Va as T,Xa as I,Y as m,Ya as x,Z as p,Za as v,_ as E,_a as b,ab as r,bb as M,c as S,cb as P,db as y,eb as N,fb as C,ga as u,gb as A,hb as d,ia as Q,ib as F,jb as g,kb as V,lb as j,mb as c,nb as f,ta as q,ub as B,va as l}from"./chunk-UR37KJDC.js";var O=class a{language;defaultIcon="assets/images/languages/placeholder.svg";errorCount=0;onImageError(n){let e=n.target;if(this.errorCount++,this.errorCount>1){e.style.display="none";return}e.src.includes("placeholder")?e.style.display="none":e.src=this.defaultIcon}static \u0275fac=function(e){return new(e||a)};static \u0275cmp=h({type:a,selectors:[["app-language-card"]],inputs:{language:"language"},decls:9,vars:10,consts:[[1,"language-card"],[1,"card-content"],[1,"icon-wrapper"],[1,"language-icon",3,"error","src","alt"],[1,"language-name"],[1,"language-description"],[1,"card-overlay"]],template:function(e,t){e&1&&(P(0,"div",0)(1,"div",1)(2,"div",2)(3,"img",3),F("error",function(s){return t.onImageError(s)}),y()(),P(4,"h3",4),c(5),y(),P(6,"p",5),c(7),y()(),N(8,"div",6),y()),e&2&&(V("--accent-color",t.language.color)("cursor",t.language.disabled?"not-allowed":"pointer"),j("disabled",t.language.disabled),l(3),A("src",t.language.icon,q)("alt",t.language.name),l(2),f(t.language.name),l(2),f(t.language.description))},dependencies:[_],styles:[".language-card[_ngcontent-%COMP%]{position:relative;background:var(--card-bg);border:2px solid var(--border-color);border-radius:1rem;padding:2rem;cursor:pointer;transition:all .3s ease;overflow:hidden;min-height:280px;display:flex;flex-direction:column;box-shadow:0 4px 6px var(--shadow-color)}.language-card[_ngcontent-%COMP%]:hover{transform:translateY(-8px);border-color:var(--accent-color, var(--primary-color));box-shadow:0 12px 24px var(--shadow-hover)}.language-card[_ngcontent-%COMP%]:active{transform:translateY(-4px)}.language-card.disabled[_ngcontent-%COMP%]{opacity:.6;cursor:not-allowed;pointer-events:none}.language-card.disabled[_ngcontent-%COMP%]:hover{transform:none;border-color:var(--border-color);box-shadow:0 4px 6px var(--shadow-color)}.language-card.disabled[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]{opacity:.5}.language-card.disabled[_ngcontent-%COMP%]   .language-name[_ngcontent-%COMP%], .language-card.disabled[_ngcontent-%COMP%]   .language-description[_ngcontent-%COMP%]{color:var(--text-muted)}.card-content[_ngcontent-%COMP%]{position:relative;z-index:2;display:flex;flex-direction:column;align-items:center;text-align:center;flex:1}.icon-wrapper[_ngcontent-%COMP%]{width:100px;height:100px;margin-bottom:1.5rem;display:flex;align-items:center;justify-content:center;background:transparent;border-radius:1rem;transition:all .3s ease;overflow:visible}.language-card[_ngcontent-%COMP%]:not(.disabled):hover   .icon-wrapper[_ngcontent-%COMP%]{transform:scale(1.1) rotate(2deg)}.language-icon[_ngcontent-%COMP%]{width:100px;height:100px;object-fit:contain;display:block;filter:drop-shadow(0 2px 4px rgba(0,0,0,.1));transition:filter .3s ease}.language-card[_ngcontent-%COMP%]:not(.disabled):hover   .language-icon[_ngcontent-%COMP%]{filter:drop-shadow(0 4px 8px rgba(0,0,0,.15))}.language-name[_ngcontent-%COMP%]{margin:0 0 .75rem;font-size:1.5rem;font-weight:700;color:var(--text-primary)}.language-description[_ngcontent-%COMP%]{margin:0;font-size:.875rem;color:var(--text-secondary);line-height:1.5}.card-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background:linear-gradient(135deg,color-mix(in srgb,var(--accent-color, var(--primary-color)) 5%,transparent) 0%,transparent 100%);opacity:0;transition:opacity .3s ease;z-index:1}.language-card[_ngcontent-%COMP%]:not(.disabled):hover   .card-overlay[_ngcontent-%COMP%]{opacity:1}"]})};var ne=(a,n)=>n.id;function oe(a,n){if(a&1){let e=C();i(0,"label",12)(1,"input",22),d("ngModelChange",function(o){m(e);let s=g();return p(s.selectedQuestionCount=o==="all"?"all":+o)}),r(),M(2,"span",23),i(3,"span",24),c(4),r()()}if(a&2){let e=n.$implicit,t=g();l(),b("value",e)("ngModel",t.selectedQuestionCount),l(3),f(e==="all"?"\u0412\u0441\u0435":e)}}function ie(a,n){if(a&1){let e=C();i(0,"label",18)(1,"input",15),d("change",function(o){let s=m(e).$implicit,te=g();return p(te.onSectionToggle(s.id,o.target.checked))}),r(),M(2,"span",16),i(3,"span",17),c(4),r()()}if(a&2){let e=n.$implicit,t=g();l(),b("checked",t.selectedSections().has(e.id)),l(3),f(e.title)}}var k=class a{language;quizData=null;close=new w;start=new w;questionCountOptions=[3,10,20,"all"];selectedQuestionCount=3;sections=u([]);selectedSections=u(new Set);selectAllSections=u(!1);languageName=B(()=>this.language?.name||"");ngOnInit(){this.loadSections()}ngOnChanges(n){n.quizData&&this.loadSections()}loadSections(){this.quizData&&this.quizData.sections&&(this.sections.set(this.quizData.sections),this.selectAllSections.set(!0),this.selectedSections.set(new Set(this.quizData.sections.map(n=>n.id))))}onSelectAllChange(n){if(this.selectAllSections.set(n),n){let e=new Set(this.sections().map(t=>t.id));this.selectedSections.set(e)}else this.selectedSections.set(new Set)}onSectionToggle(n,e){let t=new Set(this.selectedSections());e?t.add(n):t.delete(n),this.selectedSections.set(t);let o=t.size===this.sections().length&&this.sections().length>0;this.selectAllSections.set(o)}onClose(){this.close.emit()}onStart(){let n={languageId:this.language.id,questionCount:this.selectedQuestionCount,selectedSections:Array.from(this.selectedSections())};this.start.emit(n)}static \u0275fac=function(e){return new(e||a)};static \u0275cmp=h({type:a,selectors:[["app-quiz-config-modal"]],inputs:{language:"language",quizData:"quizData"},outputs:{close:"close",start:"start"},features:[Q],decls:32,vars:2,consts:[[1,"modal-overlay",3,"click"],[1,"modal-content",3,"click"],[1,"modal-header"],[1,"modal-title"],["aria-label","\u0417\u0430\u043A\u0440\u044B\u0442\u044C",1,"close-button",3,"click"],["width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2"],["x1","18","y1","6","x2","6","y2","18"],["x1","6","y1","6","x2","18","y2","18"],[1,"modal-body"],[1,"config-section"],[1,"section-title"],[1,"radio-group"],[1,"radio-label"],[1,"checkbox-group"],[1,"checkbox-label","select-all"],["type","checkbox",1,"checkbox-input",3,"change","checked"],[1,"checkbox-custom"],[1,"checkbox-text"],[1,"checkbox-label"],[1,"modal-footer"],[1,"button","button-secondary",3,"click"],[1,"button","button-primary",3,"click"],["type","radio","name","questionCount",1,"radio-input",3,"ngModelChange","value","ngModel"],[1,"radio-custom"],[1,"radio-text"]],template:function(e,t){e&1&&(i(0,"div",0),d("click",function(){return t.onClose()}),i(1,"div",1),d("click",function(s){return s.stopPropagation()}),i(2,"div",2)(3,"h2",3),c(4),r(),i(5,"button",4),d("click",function(){return t.onClose()}),E(),i(6,"svg",5),M(7,"line",6)(8,"line",7),r()()(),D(),i(9,"div",8)(10,"div",9)(11,"h3",10),c(12,"\u041A\u043E\u043B\u0438\u0447\u0435\u0441\u0442\u0432\u043E \u0432\u043E\u043F\u0440\u043E\u0441\u043E\u0432"),r(),i(13,"div",11),x(14,oe,5,3,"label",12,I),r()(),i(16,"div",9)(17,"h3",10),c(18,"\u0412\u044B\u0431\u043E\u0440 \u0442\u0435\u043C"),r(),i(19,"div",13)(20,"label",14)(21,"input",15),d("change",function(s){return t.onSelectAllChange(s.target.checked)}),r(),M(22,"span",16),i(23,"span",17),c(24,"\u0412\u0441\u0435 \u0442\u0435\u043C\u044B"),r()(),x(25,ie,5,2,"label",18,ne),r()()(),i(27,"div",19)(28,"button",20),d("click",function(){return t.onClose()}),c(29,"\u041E\u0442\u043C\u0435\u043D\u0430"),r(),i(30,"button",21),d("click",function(){return t.onStart()}),c(31,"\u0421\u0442\u0430\u0440\u0442"),r()()()()),e&2&&(l(4),f(t.languageName()),l(10),v(t.questionCountOptions),l(7),b("checked",t.selectAllSections()),l(4),v(t.sections()))},dependencies:[_,J,R,U,Y,$],styles:['.modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000080;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);display:flex;align-items:center;justify-content:center;z-index:1000;padding:1rem;animation:_ngcontent-%COMP%_fadeIn .2s ease}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}.modal-content[_ngcontent-%COMP%]{background:var(--card-bg);border-radius:1rem;box-shadow:0 20px 60px #0000004d;max-width:600px;width:100%;max-height:90vh;display:flex;flex-direction:column;animation:_ngcontent-%COMP%_slideUp .3s ease;overflow:hidden}@keyframes _ngcontent-%COMP%_slideUp{0%{transform:translateY(20px);opacity:0}to{transform:translateY(0);opacity:1}}.modal-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:1.5rem;border-bottom:1px solid var(--border-color)}.modal-title[_ngcontent-%COMP%]{margin:0;font-size:1.5rem;font-weight:700;color:var(--text-primary)}.close-button[_ngcontent-%COMP%]{background:none;border:none;cursor:pointer;padding:.5rem;color:var(--text-secondary);transition:color .2s ease;border-radius:.5rem;display:flex;align-items:center;justify-content:center}.close-button[_ngcontent-%COMP%]:hover{color:var(--text-primary);background:var(--hover-bg)}.modal-body[_ngcontent-%COMP%]{padding:1.5rem;overflow-y:auto;flex:1}.config-section[_ngcontent-%COMP%]{margin-bottom:2rem}.config-section[_ngcontent-%COMP%]:last-child{margin-bottom:0}.section-title[_ngcontent-%COMP%]{margin:0 0 1rem;font-size:1.125rem;font-weight:600;color:var(--text-primary)}.radio-group[_ngcontent-%COMP%]{display:flex;gap:.75rem;flex-wrap:wrap}.radio-label[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:.5rem;cursor:pointer;padding:1rem 1.5rem;border:2px solid var(--border-color);border-radius:.75rem;transition:all .3s cubic-bezier(.4,0,.2,1);background:var(--input-bg);flex:1;min-width:100px;position:relative;overflow:hidden}.radio-label[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:var(--primary-color);opacity:0;transition:opacity .3s ease;z-index:0}.radio-label[_ngcontent-%COMP%]:hover{border-color:var(--primary-color);transform:translateY(-2px);box-shadow:0 4px 12px #0000001a}.radio-label[_ngcontent-%COMP%]:hover:before{opacity:.05}.radio-label[_ngcontent-%COMP%]:active{transform:translateY(0)}.radio-input[_ngcontent-%COMP%]{display:none}.radio-custom[_ngcontent-%COMP%]{width:22px;height:22px;border:2px solid var(--border-color);border-radius:50%;position:relative;transition:all .3s cubic-bezier(.4,0,.2,1);flex-shrink:0;z-index:1;background:var(--card-bg)}.radio-input[_ngcontent-%COMP%]:checked + .radio-custom[_ngcontent-%COMP%]{border-color:var(--primary-color);background:var(--primary-color);box-shadow:0 0 0 4px color-mix(in srgb,var(--primary-color) 20%,transparent)}.radio-input[_ngcontent-%COMP%]:checked + .radio-custom[_ngcontent-%COMP%]:after{content:"";position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:8px;height:8px;background:#fff;border-radius:50%;animation:_ngcontent-%COMP%_radioCheck .3s cubic-bezier(.4,0,.2,1)}@keyframes _ngcontent-%COMP%_radioCheck{0%{transform:translate(-50%,-50%) scale(0);opacity:0}to{transform:translate(-50%,-50%) scale(1);opacity:1}}.radio-input[_ngcontent-%COMP%]:checked ~ .radio-text[_ngcontent-%COMP%]{color:var(--primary-color);font-weight:600;z-index:1;position:relative}.radio-label[_ngcontent-%COMP%]:has(.radio-input:checked){border-color:var(--primary-color);background:color-mix(in srgb,var(--primary-color) 12%,var(--input-bg));box-shadow:0 4px 16px color-mix(in srgb,var(--primary-color) 25%,transparent)}.radio-label[_ngcontent-%COMP%]:has(.radio-input:checked):before{opacity:.1}.radio-text[_ngcontent-%COMP%]{font-weight:500;color:var(--text-primary);-webkit-user-select:none;user-select:none;z-index:1;position:relative;transition:color .3s ease}.checkbox-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.checkbox-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;cursor:pointer;padding:.875rem 1rem;border-radius:.625rem;transition:all .3s cubic-bezier(.4,0,.2,1);border:1px solid transparent}.checkbox-label[_ngcontent-%COMP%]:hover{background:var(--hover-bg);border-color:var(--border-color);transform:translate(4px)}.checkbox-label.select-all[_ngcontent-%COMP%]{font-weight:600;padding:1rem;border-bottom:2px solid var(--border-color);margin-bottom:.75rem;background:color-mix(in srgb,var(--primary-color) 5%,var(--input-bg))}.checkbox-label.select-all[_ngcontent-%COMP%]:hover{background:color-mix(in srgb,var(--primary-color) 8%,var(--input-bg));border-color:var(--primary-color)}.checkbox-input[_ngcontent-%COMP%]{display:none}.checkbox-custom[_ngcontent-%COMP%]{width:22px;height:22px;border:2px solid var(--border-color);border-radius:6px;position:relative;transition:all .3s cubic-bezier(.4,0,.2,1);flex-shrink:0;background:var(--card-bg);display:flex;align-items:center;justify-content:center}.checkbox-input[_ngcontent-%COMP%]:checked + .checkbox-custom[_ngcontent-%COMP%]{border-color:var(--primary-color);background:var(--primary-color);box-shadow:0 0 0 3px color-mix(in srgb,var(--primary-color) 20%,transparent)}.checkbox-input[_ngcontent-%COMP%]:checked + .checkbox-custom[_ngcontent-%COMP%]:after{content:"";position:absolute;top:50%;left:50%;transform:translate(-50%,-60%) rotate(45deg);width:5px;height:10px;border:solid white;border-width:0 2.5px 2.5px 0;animation:_ngcontent-%COMP%_checkboxCheck .3s cubic-bezier(.4,0,.2,1)}@keyframes _ngcontent-%COMP%_checkboxCheck{0%{transform:translate(-50%,-60%) rotate(45deg) scale(0);opacity:0}50%{transform:translate(-50%,-60%) rotate(45deg) scale(1.2)}to{transform:translate(-50%,-60%) rotate(45deg) scale(1);opacity:1}}.checkbox-label[_ngcontent-%COMP%]:has(.checkbox-input:checked){background:color-mix(in srgb,var(--primary-color) 8%,var(--hover-bg));border-color:color-mix(in srgb,var(--primary-color) 30%,transparent)}.checkbox-label[_ngcontent-%COMP%]:has(.checkbox-input:checked)   .checkbox-text[_ngcontent-%COMP%]{color:var(--primary-color);font-weight:500}.checkbox-text[_ngcontent-%COMP%]{color:var(--text-primary);-webkit-user-select:none;user-select:none;transition:color .3s ease,font-weight .3s ease}.modal-footer[_ngcontent-%COMP%]{display:flex;gap:1rem;justify-content:flex-end;padding:1.5rem;border-top:1px solid var(--border-color)}.button[_ngcontent-%COMP%]{padding:.75rem 1.5rem;border:none;border-radius:.5rem;font-size:1rem;font-weight:500;cursor:pointer;transition:all .2s ease}.button[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.button-primary[_ngcontent-%COMP%]{background:var(--primary-color);color:#fff}.button-primary[_ngcontent-%COMP%]:hover:not(:disabled){background:var(--primary-hover);transform:translateY(-1px);box-shadow:0 4px 12px #00000026}.button-primary[_ngcontent-%COMP%]:active:not(:disabled){transform:translateY(0)}.button-secondary[_ngcontent-%COMP%]{background:var(--input-bg);color:var(--text-primary);border:1px solid var(--border-color)}.button-secondary[_ngcontent-%COMP%]:hover:not(:disabled){background:var(--hover-bg);border-color:var(--border-hover)}@media (max-width: 768px){.modal-content[_ngcontent-%COMP%]{max-width:100%;margin:1rem}.radio-group[_ngcontent-%COMP%]{flex-direction:column}.radio-label[_ngcontent-%COMP%]{min-width:auto}}']})};var Z=[{id:"javascript",name:"JavaScript",icon:"assets/images/languages/javascript.svg",description:"\u0414\u0438\u043D\u0430\u043C\u0438\u0447\u0435\u0441\u043A\u0438\u0439 \u044F\u0437\u044B\u043A \u043F\u0440\u043E\u0433\u0440\u0430\u043C\u043C\u0438\u0440\u043E\u0432\u0430\u043D\u0438\u044F \u0434\u043B\u044F \u0432\u0435\u0431-\u0440\u0430\u0437\u0440\u0430\u0431\u043E\u0442\u043A\u0438",color:"#F7DF1E",disabled:!1},{id:"coming-soon",name:"\u0412 \u0440\u0430\u0437\u0440\u0430\u0431\u043E\u0442\u043A\u0435",icon:"assets/images/languages/placeholder.svg",description:"\u0421\u043A\u043E\u0440\u043E \u0437\u0434\u0435\u0441\u044C \u043F\u043E\u044F\u0432\u044F\u0442\u0441\u044F \u043D\u043E\u0432\u044B\u0435 \u044F\u0437\u044B\u043A\u0438 \u043F\u0440\u043E\u0433\u0440\u0430\u043C\u043C\u0438\u0440\u043E\u0432\u0430\u043D\u0438\u044F",color:"#94a3b8",disabled:!0}];var ae=(a,n)=>n.id;function re(a,n){if(a&1){let e=C();i(0,"app-language-card",8),d("click",function(){let o=m(e).$implicit,s=g();return p(s.onLanguageSelect(o.id,o.disabled))}),r()}if(a&2){let e=n.$implicit;b("language",e)}}function le(a,n){if(a&1){let e=C();i(0,"app-quiz-config-modal",9),d("close",function(){m(e);let o=g();return p(o.onModalClose())})("start",function(o){m(e);let s=g();return p(s.onQuizStart(o))}),r()}if(a&2){let e=g();b("language",e.selectedLanguage())("quizData",e.quizData())}}var ee=class a{constructor(n,e){this.questionService=n;this.router=e}languages=Z;selectedLanguage=u(null);quizData=u(null);isLoading=u(!1);onLanguageSelect(n,e){return S(this,null,function*(){if(e)return;let t=this.languages.find(o=>o.id===n);if(t){this.selectedLanguage.set(t),this.isLoading.set(!0);try{let o=yield this.questionService.loadQuizData(n);this.quizData.set(o)}catch{this.quizData.set(null)}finally{this.isLoading.set(!1)}}})}onModalClose(){this.selectedLanguage.set(null),this.quizData.set(null)}onQuizStart(n){this.router.navigate(["/quiz"],{state:{config:n}}),this.onModalClose()}static \u0275fac=function(e){return new(e||a)(z(K),z(H))};static \u0275cmp=h({type:a,selectors:[["app-home"]],decls:11,vars:1,consts:[[1,"home-container"],[1,"home-content"],[1,"hero-section"],[1,"hero-title"],[1,"hero-subtitle"],[1,"languages-grid"],[3,"language"],[3,"language","quizData"],[3,"click","language"],[3,"close","start","language","quizData"]],template:function(e,t){e&1&&(i(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),c(4,"\u0412\u044B\u0431\u0435\u0440\u0438\u0442\u0435 \u044F\u0437\u044B\u043A \u043F\u0440\u043E\u0433\u0440\u0430\u043C\u043C\u0438\u0440\u043E\u0432\u0430\u043D\u0438\u044F"),r(),i(5,"p",4),c(6,"\u041F\u0440\u043E\u0432\u0435\u0440\u044C\u0442\u0435 \u0441\u0432\u043E\u0438 \u0437\u043D\u0430\u043D\u0438\u044F \u0438 \u0443\u043B\u0443\u0447\u0448\u0438\u0442\u0435 \u043D\u0430\u0432\u044B\u043A\u0438"),r()(),i(7,"div",5),x(8,re,1,1,"app-language-card",6,ae),r()()(),L(10,le,1,2,"app-quiz-config-modal",7)),e&2&&(l(8),v(t.languages),l(2),T(t.selectedLanguage()?10:-1))},dependencies:[_,G,O,k],styles:[".home-container[_ngcontent-%COMP%]{min-height:calc(100vh - 80px);padding:3rem 2rem;background:var(--page-bg)}.home-content[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto}.hero-section[_ngcontent-%COMP%]{text-align:center;margin-bottom:4rem}.hero-title[_ngcontent-%COMP%]{font-size:3rem;font-weight:700;color:var(--text-primary);margin:0 0 1rem;line-height:1.2}.hero-subtitle[_ngcontent-%COMP%]{font-size:1.25rem;color:var(--text-secondary);margin:0}.languages-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:2rem;margin-top:2rem}@media (max-width: 768px){.home-container[_ngcontent-%COMP%]{padding:2rem 1rem}.hero-title[_ngcontent-%COMP%]{font-size:2rem}.hero-subtitle[_ngcontent-%COMP%]{font-size:1rem}.languages-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1.5rem}}"]})};export{ee as HomeComponent};
